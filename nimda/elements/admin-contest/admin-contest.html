<dom-module id="admin-contest">
	<template>
		<style>
			:host {
				display: block;
			}
			
			paper-material {
				padding: 16px 35px;
			}

			.contest-input-container {
				padding-left: 2em;
			}
		</style>
		<h1>Contest console</h1>
		<div class="contest-input-container">
			<contest-input id="contestInput" data="{{data}}"></contest-input>
		</div>
		<template is="dom-repeat" items={{data}} as=contest index-as=index>
			<contest-item data="{{contest}}" all-data="[[data]]" on-delete-contest="deleteContest"></contest-item>
		</template>
		<paper-toast id="message" text="" duration="5000"></paper-toast>
	</template>
	<script>
		Polymer({
			is: 'admin-contest',
			properties: {
				apiLoaded: {
					type: String,
					value: 'false',
					notify: true,
					observer: '_apiLoaded'
				},
				data: {
					observer: 'dataChanged',
					notify: true
				},
				dates:  Object
			},
			_apiLoaded: function (n) {
			},
			dataChanged: function (data) {
			},
			_triggerPicker: function (e) {
				this.$.contestInput.open();
			},
			deleteContest: function (e) {
				this.arrayDelete('data', e.detail.contest);
				this.$.message.text = "The contest has been successfully removed!";
				this.$.message.open();
			}
		});
	</script>
</dom-module>