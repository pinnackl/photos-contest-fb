<link rel="import" href="../../vendor/polymer/polymer.html">
<link rel="import" href="../../vendor/firebase-element/firebase-collection.html">

<dom-module id="contest-data">
	<template>
		<style>
		:host {
			display: block;
		}
		</style>
		<firebase-collection data="{{photos}}"
			location="{{userLocation}}"
			on-firebase-value="_firebaseLoaded">
		</firebase-collection>
		<template is="dom-repeat" items="[[photos]]" as="photo">
			<h4>Name : [[photo.name]] </h4>
		</template>
	</template>
	<script>
		Polymer({
			is: 'contest-data',
			properties: {
				location: {
					type: String
				},
				userLocation: {
					type: String
				},
				fireUser: {
					observer: '_userChanged'
				}
			},
			_userChanged: function (user) {
				this.userLocation = this.location;
				if (user) {
					this.userLocation = [this.location, 'users', this.fireUser.uid].join('/');
				}
			},
			_firebaseLoaded: function (data) {
				// console.log(data);
				// this.users = this.fbUsers;
				// this.linkPaths('fbUsers', 'users');
			}
		});
	</script>
</dom-module>